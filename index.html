<html>
<head>
</head>
<body>
<h2>
Root Generator
</h2>
<p>
Enter a each letter and hit return. If one letter is optional, hit return to represent an "invisible letter"
</p>
<label>C:</label>
<textarea id="Cletters" rows="20" cols="5">

B
CH
D
F
G
H
J
K
L
M
N
P
R
S
SH
T
V
Z</textarea>
<label>L:</label>
<textarea id="Lletters" rows="20" cols="5">

R
L
I
U</textarea>
<label>V:</label>
<textarea id="Vletters" rows="20" cols="5">
A
E
I
O
U</textarea>
<label>V2:</label>
<textarea id="V2letters" rows="20" cols="5">

I
U</textarea>
<label>F:</label>
<textarea id="Fletters" rows="20" cols="5">

I
U
NG
B
CH
D
F
G
J
K
L
M
N
P
R
S
SH
T
V
Z</textarea>
<label>Not Allowed Combos:</label>
<textarea id="notAllowed" rows="20" cols="5">
RL
LR
RR
LL
ML
MR
NL
NR
SHR
CHR
DL
JL
VR
VL
AA
EE
II
OO
UU</textarea>
<button onclick="generateRoots()">Generate</button>
<p id="rootCount">
</p>
<p id="filteredRootCount">
</p>
<label>Roots:</label>
<textarea id="roots" rows="50" cols="15">
</textarea>

<script>
  
function generateRoots() {
	
	var c = document.getElementById("Cletters").value.split('\n');
	var l = document.getElementById("Lletters").value.split('\n');
	var v = document.getElementById("Vletters").value.split('\n');
	var v2 = document.getElementById("V2letters").value.split('\n');
	var f = document.getElementById("Fletters").value.split('\n');
  var notAllowed = document.getElementById("notAllowed").value.split('\n');  
	
	var roots = [];
	var count = 0;
	var htmlList = document.getElementById("roots");
	var htmlCount = document.getElementById("rootCount");
  var htmlFilteredCount = document.getElementById("filteredRootCount");
	
	for(i=0;i<c.length;i++) {
	   for(j=0;j<l.length;j++) {
	    for(k=0;k<v.length;k++) {
		    for(n=0;n<v2.length;n++) {
	      		for(m=0;m<f.length;m++) {      
	        		var root = c[i] + l[j] + v[k] + v2[n] + f[m];
	        		roots.push(root);
	        		count++;
	           	}
		    }
	        }
	     }
	 }
      htmlCount.innerHTML = 'pre-filtered: ' + count;
	
      var filteredCount = 0;
      var filteredRoots = roots.filter(r => notAllowed.every(nope => !r.includes(nope)));
      filteredRoots.forEach( r => filteredCount++ );
	
  htmlFilteredCount.innerHTML = 'filtered: ' + filteredCount;
  filteredRoots.forEach( r => htmlList.value += r + '\n' )
}

</script>
</body>
</html>
